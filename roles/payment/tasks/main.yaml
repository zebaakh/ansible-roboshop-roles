- name: Install Python
  ansible.builtin.yum:
    name: python3-devel
    state: present

- name: SetUp Application
  ansible.builtin.import_role:
    name: common
    tasks_from: app-setup

- name: Create /app directory if it does not exist
  ansible.builtin.file:
    path: /app
    state: directory    

- name: Install dependencies
  ansible.builtin.command: pip3.6 install -r requirements.txt
  args:
    chdir: /app

- name: Start application
  ansible.builtin.import_role:
    name: common
    tasks_from: systemd-setup